<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Will You Be My Valentine? ğŸ’Œ</title>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/alpinejs/3.13.5/cdn.min.js" defer></script>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;1,400;1,700&family=Cormorant+Garamond:ital,wght@0,300;0,400;1,300;1,400&display=swap" rel="stylesheet" />
  <style>
    :root {
      --rose: #c0283a;
      --blush: #f7c5c5;
      --cream: #fdf6f0;
      --gold: #c8a97e;
      --deep: #1a0a0a;
      --soft-rose: #e8b4b8;
    }

    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    body {
      min-height: 100vh;
      background: var(--cream);
      font-family: 'Cormorant Garamond', serif;
      overflow: hidden;
      display: flex;
      align-items: center;
      justify-content: center;
      position: relative;
    }

    /* Ambient background */
    body::before {
      content: '';
      position: fixed;
      inset: 0;
      background:
        radial-gradient(ellipse 80% 60% at 20% 10%, rgba(192,40,58,0.08) 0%, transparent 70%),
        radial-gradient(ellipse 60% 80% at 80% 90%, rgba(200,169,126,0.12) 0%, transparent 70%),
        radial-gradient(ellipse 100% 100% at 50% 50%, #fdf6f0 0%, #f5e8e0 100%);
      z-index: 0;
    }

    /* Floating hearts canvas layer */
    #hearts-bg {
      position: fixed;
      inset: 0;
      pointer-events: none;
      z-index: 1;
    }

    .main-card {
      position: relative;
      z-index: 10;
      background: rgba(255,255,255,0.72);
      backdrop-filter: blur(16px);
      border: 1px solid rgba(200,169,126,0.35);
      border-radius: 32px;
      padding: 56px 60px 52px;
      max-width: 520px;
      width: 92%;
      text-align: center;
      box-shadow:
        0 4px 6px rgba(192,40,58,0.04),
        0 20px 60px rgba(192,40,58,0.10),
        0 0 0 1px rgba(255,255,255,0.8) inset;
      animation: cardFloat 6s ease-in-out infinite;
    }

    @keyframes cardFloat {
      0%, 100% { transform: translateY(0px); }
      50% { transform: translateY(-8px); }
    }

    /* Decorative border corners */
    .main-card::before, .main-card::after {
      content: 'â§';
      position: absolute;
      font-size: 28px;
      color: rgba(200,169,126,0.5);
      line-height: 1;
    }
    .main-card::before { top: 20px; left: 24px; }
    .main-card::after  { bottom: 20px; right: 24px; transform: scaleX(-1); }

    .heart-icon {
      font-size: 60px;
      display: block;
      line-height: 1;
      margin-bottom: 18px;
      animation: heartbeat 1.4s ease-in-out infinite;
      filter: drop-shadow(0 4px 12px rgba(192,40,58,0.3));
    }

    @keyframes heartbeat {
      0%, 100% { transform: scale(1); }
      14% { transform: scale(1.18); }
      28% { transform: scale(1); }
      42% { transform: scale(1.12); }
      70% { transform: scale(1); }
    }

    .tag-line {
      font-family: 'Cormorant Garamond', serif;
      font-style: italic;
      font-weight: 300;
      font-size: 13px;
      letter-spacing: 4px;
      text-transform: uppercase;
      color: var(--gold);
      margin-bottom: 12px;
    }

    h1 {
      font-family: 'Playfair Display', serif;
      font-size: clamp(28px, 6vw, 42px);
      font-weight: 700;
      font-style: italic;
      line-height: 1.15;
      color: var(--deep);
      margin-bottom: 16px;
      text-shadow: 0 2px 12px rgba(192,40,58,0.08);
    }

    .subtitle {
      font-size: 16px;
      font-weight: 300;
      font-style: italic;
      color: #6b4a4a;
      line-height: 1.7;
      margin-bottom: 38px;
      padding: 0 8px;
    }

    .divider {
      display: flex;
      align-items: center;
      gap: 12px;
      margin: 0 auto 36px;
      max-width: 260px;
    }
    .divider::before, .divider::after {
      content: '';
      flex: 1;
      height: 1px;
      background: linear-gradient(90deg, transparent, var(--gold), transparent);
    }
    .divider span { color: var(--rose); font-size: 14px; }

    .btn-group {
      display: flex;
      gap: 16px;
      justify-content: center;
      align-items: center;
    }

    .btn {
      position: relative;
      padding: 15px 42px;
      border-radius: 50px;
      font-family: 'Playfair Display', serif;
      font-size: 18px;
      font-weight: 700;
      cursor: pointer;
      border: none;
      outline: none;
      transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
      letter-spacing: 1px;
      overflow: hidden;
    }

    .btn-yes {
      background: linear-gradient(135deg, #c0283a 0%, #9b1c2c 100%);
      color: white;
      box-shadow:
        0 4px 18px rgba(192,40,58,0.38),
        0 0 0 2px rgba(192,40,58,0.15) inset;
    }
    .btn-yes::after {
      content: '';
      position: absolute;
      inset: 0;
      background: linear-gradient(180deg, rgba(255,255,255,0.18) 0%, transparent 60%);
      border-radius: 50px;
    }
    .btn-yes:hover {
      transform: scale(1.08) translateY(-2px);
      box-shadow: 0 8px 28px rgba(192,40,58,0.5);
    }
    .btn-yes:active { transform: scale(0.97); }

    .btn-no {
      background: transparent;
      color: #9b7070;
      border: 2px solid rgba(155,112,112,0.35);
      font-size: 16px;
      padding: 13px 32px;
      transition: all 0.2s ease;
    }

    /* The "No" â†’ "Yes" trick using a label/input trick via Alpine */
    .btn-no:hover {
      /* We intercept this in Alpine before it ever shows a real hover */
    }

    /* ---- SUCCESS STATE ---- */
    .success-overlay {
      position: fixed;
      inset: 0;
      z-index: 100;
      display: flex;
      align-items: center;
      justify-content: center;
      background: rgba(26,10,10,0.55);
      backdrop-filter: blur(4px);
      animation: fadeIn 0.5s ease forwards;
    }

    @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }

    .success-card {
      background: white;
      border-radius: 32px;
      padding: 56px 52px;
      text-align: center;
      max-width: 420px;
      width: 90%;
      box-shadow: 0 30px 80px rgba(192,40,58,0.25);
      animation: popIn 0.6s cubic-bezier(0.34, 1.56, 0.64, 1) forwards;
      border: 1px solid rgba(200,169,126,0.3);
    }

    @keyframes popIn {
      from { transform: scale(0.7) translateY(40px); opacity: 0; }
      to { transform: scale(1) translateY(0); opacity: 1; }
    }

    .success-hearts {
      font-size: 52px;
      display: block;
      margin-bottom: 16px;
      animation: spin-hearts 0.8s ease forwards 0.3s;
      opacity: 0;
    }
    @keyframes spin-hearts {
      from { transform: rotate(-20deg) scale(0.5); opacity: 0; }
      to { transform: rotate(0deg) scale(1); opacity: 1; }
    }

    .success-title {
      font-family: 'Playfair Display', serif;
      font-size: 32px;
      font-style: italic;
      color: var(--rose);
      margin-bottom: 12px;
    }

    .success-msg {
      font-family: 'Cormorant Garamond', serif;
      font-size: 17px;
      font-style: italic;
      color: #6b4a4a;
      line-height: 1.7;
      font-weight: 300;
      margin-bottom: 28px;
    }

    .success-btn {
      background: linear-gradient(135deg, #c0283a, #9b1c2c);
      color: white;
      border: none;
      padding: 14px 40px;
      border-radius: 50px;
      font-family: 'Playfair Display', serif;
      font-size: 16px;
      font-weight: 700;
      cursor: pointer;
      letter-spacing: 1px;
      box-shadow: 0 4px 18px rgba(192,40,58,0.35);
      transition: transform 0.2s, box-shadow 0.2s;
    }
    .success-btn:hover { transform: scale(1.05); box-shadow: 0 6px 22px rgba(192,40,58,0.45); }

    /* Confetti heart burst */
    .burst-heart {
      position: fixed;
      pointer-events: none;
      font-size: 22px;
      z-index: 200;
      animation: burstFly var(--dur) cubic-bezier(0.2, 0.8, 0.4, 1) forwards;
      opacity: 0;
    }
    @keyframes burstFly {
      0%   { transform: translate(0,0) scale(0.5) rotate(var(--rot0)); opacity: 1; }
      80%  { opacity: 1; }
      100% { transform: translate(var(--tx), var(--ty)) scale(1.1) rotate(var(--rot1)); opacity: 0; }
    }

    /* No button growing YES tooltip */
    .no-wrapper {
      position: relative;
      display: inline-block;
    }
    .no-tooltip {
      position: absolute;
      bottom: calc(100% + 8px);
      left: 50%;
      transform: translateX(-50%) scale(0);
      background: var(--rose);
      color: white;
      font-family: 'Playfair Display', serif;
      font-size: 12px;
      font-weight: 700;
      padding: 4px 12px;
      border-radius: 20px;
      white-space: nowrap;
      pointer-events: none;
      transition: transform 0.2s cubic-bezier(0.34, 1.56, 0.64, 1);
      letter-spacing: 1px;
    }
    .no-wrapper:hover .no-tooltip {
      transform: translateX(-50%) scale(1);
    }

    /* Petals scattered decoration */
    .petal {
      position: fixed;
      font-size: 18px;
      pointer-events: none;
      z-index: 2;
      animation: petalDrift var(--pd) ease-in-out infinite var(--delay);
      opacity: 0.4;
    }
    @keyframes petalDrift {
      0% { transform: translateY(0) rotate(0deg); opacity: 0.4; }
      50% { transform: translateY(-20px) rotate(15deg); opacity: 0.25; }
      100% { transform: translateY(0) rotate(0deg); opacity: 0.4; }
    }

    .footer-note {
      margin-top: 28px;
      font-size: 12px;
      font-style: italic;
      color: rgba(155,112,112,0.55);
      letter-spacing: 2px;
    }
  </style>
</head>
<body>
  <!-- Ambient floating hearts -->
  <canvas id="hearts-bg"></canvas>

  <!-- Scattered petals -->
  <div class="petal" style="--pd:4s; --delay:-1s; top:12%; left:8%;">ğŸŒ¸</div>
  <div class="petal" style="--pd:5s; --delay:-2s; top:70%; left:6%;">ğŸŒ¹</div>
  <div class="petal" style="--pd:6s; --delay:-0.5s; top:25%; right:9%;">ğŸŒ¸</div>
  <div class="petal" style="--pd:4.5s; --delay:-3s; top:80%; right:12%;">ğŸŒ¹</div>
  <div class="petal" style="--pd:5.5s; --delay:-1.5s; top:55%; left:4%;">ğŸ’®</div>
  <div class="petal" style="--pd:7s; --delay:-2.5s; top:40%; right:5%;">ğŸ’®</div>

  <!-- Main App -->
  <div x-data="valentine()" x-init="init()">

    <!-- Valentine Card -->
    <div class="main-card" x-show="!answered">
      <span class="heart-icon">ğŸ’</span>
      <p class="tag-line">For my whole entire world</p>
      <h1>"Will you be<br>my Valentine,<br><em>Lucy?</em>"</h1>

      <div class="divider"><span>â§</span></div>

      <p class="subtitle">
        You're growing our greatest adventure<br>
        right beneath your heart â€” and somehow,<br>
        you've never looked more breathtaking. ğŸŒ¸
      </p>

      <div class="btn-group">
        <button class="btn btn-yes" @click="sayYes()">
          Yes! ğŸ’•
        </button>

        <div class="no-wrapper" @mouseenter="nudgeNo($event)" @mouseleave="resetNo()">
          <div class="no-tooltip">Try "Yes" instead ğŸ˜</div>
          <button
            class="btn btn-no"
            :style="noStyle"
            @click="sayYes()"
          >
            <span x-text="noLabel"></span>
          </button>
        </div>
      </div>

      <p class="footer-note">â€” your husband, always & forever â€”</p>
    </div>

    <!-- Success Overlay -->
    <div class="success-overlay" x-show="answered" x-transition:enter="fadeIn">
      <div class="success-card">
        <span class="success-hearts">ğŸ‘¶ğŸ’•ğŸŒ¸</span>
        <h2 class="success-title">I knew it, Lucy! ğŸ¥°</h2>
        <p class="success-msg">
          My darling wife &amp; most amazing soon-to-be mama â€”<br>
          you're already the best thing that ever happened to me,<br>
          and somehow, our little one made me love you<br>
          <em>even more.</em> We are so lucky to have you. ğŸ’–
        </p>
        <button class="success-btn" @click="reset()">ğŸ’Œ Love you forever, Lucy</button>
      </div>
    </div>
  </div>

  <script>
    // â”€â”€â”€ Floating hearts canvas â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    (function () {
      const canvas = document.getElementById('hearts-bg');
      const ctx = canvas.getContext('2d');
      let W, H, hearts = [];

      function resize() {
        W = canvas.width  = window.innerWidth;
        H = canvas.height = window.innerHeight;
      }
      resize();
      window.addEventListener('resize', resize);

      const SYMBOLS = ['â™¥', 'â™¡', 'â¤', 'ğŸ’•', 'ğŸ’—'];

      function mkHeart() {
        return {
          x: Math.random() * W,
          y: H + 20,
          size: 10 + Math.random() * 18,
          speed: 0.3 + Math.random() * 0.7,
          drift: (Math.random() - 0.5) * 0.5,
          opacity: 0.08 + Math.random() * 0.14,
          sym: SYMBOLS[Math.floor(Math.random() * SYMBOLS.length)],
          rot: (Math.random() - 0.5) * 0.6,
        };
      }

      for (let i = 0; i < 22; i++) {
        const h = mkHeart();
        h.y = Math.random() * H;
        hearts.push(h);
      }

      function tick() {
        ctx.clearRect(0, 0, W, H);
        hearts.forEach((h, i) => {
          ctx.save();
          ctx.translate(h.x, h.y);
          ctx.rotate(h.rot);
          ctx.globalAlpha = h.opacity;
          ctx.font = `${h.size}px serif`;
          ctx.fillStyle = '#c0283a';
          ctx.fillText(h.sym, 0, 0);
          ctx.restore();

          h.y -= h.speed;
          h.x += h.drift;
          h.rot += 0.003;

          if (h.y < -30) hearts[i] = mkHeart();
        });
        requestAnimationFrame(tick);
      }
      tick();
    })();

    // â”€â”€â”€ Alpine component â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
    function valentine() {
      return {
        answered: false,
        noLabel: 'No... ğŸ˜”',
        noStyle: {},
        _noHoverCount: 0,

        init() {},

        nudgeNo(e) {
          this._noHoverCount++;
          // Each hover the "No" button runs away or transforms to Yes
          const moves = [
            { transform: 'translateX(80px)', transition: 'transform 0.25s ease' },
            { transform: 'translateX(-70px)', transition: 'transform 0.25s ease' },
            { transform: 'translateX(100px) translateY(-30px)', transition: 'transform 0.2s ease' },
            { transform: 'translateX(-90px) translateY(20px)', transition: 'transform 0.2s ease' },
          ];

          // First two hovers: run away. After that: become YES
          if (this._noHoverCount <= 4) {
            const m = moves[(this._noHoverCount - 1) % moves.length];
            this.noStyle = m;
            // Change label to hint
            if (this._noHoverCount === 3) this.noLabel = 'Maybe... ğŸ˜…';
            if (this._noHoverCount === 4) this.noLabel = 'Yes... ğŸ’•';
          } else {
            // Button transforms into Yes visually
            this.noLabel = 'Yes! ğŸ’•';
            this.noStyle = {
              background: 'linear-gradient(135deg, #c0283a 0%, #9b1c2c 100%)',
              color: 'white',
              border: 'none',
              transform: 'scale(1.05)',
              boxShadow: '0 4px 18px rgba(192,40,58,0.38)',
              transition: 'all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1)',
            };
          }
        },

        resetNo() {
          if (this._noHoverCount <= 4) {
            this.noStyle = { transform: 'none', transition: 'transform 0.4s cubic-bezier(0.34,1.56,0.64,1)' };
          }
        },

        sayYes() {
          this.answered = true;
          this.burstHearts();
        },

        burstHearts() {
          const emojis = ['ğŸ’•','ğŸ’—','ğŸ’–','ğŸ’','ğŸŒ¸','ğŸ‘¶','ğŸ¼','ğŸŒ·','âœ¨','ğŸ’«','â¤ï¸','ğŸ¥°'];
          const cx = window.innerWidth / 2;
          const cy = window.innerHeight / 2;

          for (let i = 0; i < 28; i++) {
            const el = document.createElement('div');
            el.className = 'burst-heart';
            const angle = (i / 28) * 360;
            const dist  = 120 + Math.random() * 200;
            const rad   = (angle * Math.PI) / 180;
            const tx    = Math.cos(rad) * dist + 'px';
            const ty    = Math.sin(rad) * dist + 'px';
            const dur   = (0.8 + Math.random() * 0.8) + 's';
            const rot0  = (Math.random() - 0.5) * 60 + 'deg';
            const rot1  = (Math.random() - 0.5) * 120 + 'deg';

            el.textContent = emojis[Math.floor(Math.random() * emojis.length)];
            el.style.cssText = `
              left: ${cx}px; top: ${cy}px;
              --tx: ${tx}; --ty: ${ty};
              --dur: ${dur}; --rot0: ${rot0}; --rot1: ${rot1};
              animation-delay: ${Math.random() * 0.3}s;
            `;
            document.body.appendChild(el);
            setTimeout(() => el.remove(), 2200);
          }
        },

        reset() {
          this.answered = false;
          this.noLabel  = 'No... ğŸ˜”';
          this.noStyle  = {};
          this._noHoverCount = 0;
        },
      };
    }
  </script>
</body>
</html>
